
\section{Introduction}
\label{sec:diff-intro}

The Wikipedia is both a collaborative work and
a versioned document; it is uniquely the largest such work
in colloquial language.
Programming projects (especially open source projects)
are also collaborative and versioned --- which makes for
an interesting analogy because many of the same questions can be asked:
\begin{enumerate}
%% \item How fast did the project grow?
\item Who contributed how much to the project?
\item How much do the different components interact?
\item How do the components evolve over time?
\item How many components are there in the project?
\end{enumerate}
Of these questions, we focus on determining who contributed
how much to the project; as a user contributes more, they gain experience
in the community mores, and our working assumption is that their future
contributions will be more valuable.
That is, our first principle was to give credit to users for the words that
they write: more words would lead to more credit.

In the field of software engineering, the question of ``who contributed
how much'' is generally answered by the measure
\textit{Source Lines of Code} (SLOC).\footnote{\url{http://en.wikipedia.org/wiki/Source_lines_of_code}}
Computing who added which lines of text is achieved
by applying a basic text difference
algorithm~\cite{Myers1986,Tichy1984,Burns1997} to two consecutive
revisions.
The output of the algorithm allows us to determine which lines were added and
deleted at each edit, and to attribute the insertions as contributions by the
author of the second revision.
In principle, the same technique works in the case of tracking authorship
on the Wikipedia and should be easy to implement.

There are a few problems with this initial model.
The most obvious is that \textit{lines} are too coarse grained
a unit for tracking the evolution of English prose;
editors frequently come in and revise phrases or
even specific words, so it is necessary to compute
differences at a finer granularity;
we chose to work with white-space delimited \textit{words}.
A bigger problem is that text is not only inserted
or deleted; it can also be copied or moved around.
Variations on text difference algorithms can
detect moved and copied text, but to whom should we attribute this text:
the author who created the original text, or the editor who rearranged it
into its final form?

To answer this last question, let us consider a fairly extreme example.
Suppose user Alice creates a new article and writes a page of text for it.
Vanessa is a vandal and decides to \intro{blank} the article,
\ie she deletes all the text for the article, but not the article itself.
Robert is part of the RCPatrol, and he notices that the article has
been tampered with, so he restores all the text back to Alice's version.
Now who should receive credit for writing the text: Robert or Alice?

We call this the \intro{author attribution} problem,
and in the context of the Wikipedia it seems obvious that Robert's
work is valuable maintenance, but that Alice is the true ``author'' of the text.
Thus, a better model of attribution (than just giving credit
to the person who inserted the text most recently) would instead give credit
to the author who originally created the text.
For example, the WikiTravel\footnote{\url{http://wikitravel.org}}
site creates a tree representing
the version history of an article: two consecutive versions
have a parent-child relationship in the tree, except when
the second version is identical to an earlier version;
versions that are identical are merged into a single node
in the tree, which is attributed to the author of the earliest
such version~\cite{WikiTravelAuthorship}
(see~\cite{Ekstrand2009,Sabel2007} for similar variations
on organizing revisions).
Using this revision tree, the WikiTravel site computes the
authors of the article as being the set of authors starting
from the most recent version and following parent links
to the root of the tree.\footnote{Note that WikiTravel
computes a set of authors as a requirement
of the license agreement that applies to contributed content,
so the problem is more than an academic one.}


Given this framework,
a second example is now easier to analyze for attribution:
%
\begin{quote}
Since 27 November 2001, the economist Anders Fogh Rasmussen
has been Prime Minister to Denmark~\cite{wiki:Denmark-Fogh}.
\textit{As Prime Minister to Denmark, the economist Anders Fogh Rasmussen
leads the government with the consent of Queen Margrethe II.}
\end{quote}
%
Alice wrote the first sentence of this example, and Robert
added the italicized text,
but Robert's content repeats much of the same information as
in Alice's sentence.
Clearly, a model of attribution which simply tracks insertions
and deletions is too simple, as Robert
would receive credit for words that are not his own.


We present a method for computing text authorship based on
first computing a difference between multiple previous revisions and
the target revision.
From our two examples, we see already that the differencing
algorithm must allow matching over multiple past revisions, as
well as supporting multiple copies of the same block of text.
Computing these differences in the context of the Wikipedia
requires efficiency to avoid unwieldy CPU requirements
or execution times of several months;
to this end, we resort to a method based on greedy differencing
algorithms~\cite{Reichenberger1991,Burns1997}.
Using a greedy algorithm for computing the difference, we are
able to find matches of old text and propagate authorship
information to the target revision fast enough to maintain a trust
annotated copy of the Wikipedia in real-time on a single workstation.

