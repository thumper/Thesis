%% ucthesis.cls
%% Copyright (C) 1988-2004 Daniel Gildea, BBF, Ethan Munson.
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3
% of this license or (at your option) any later version.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3 or later is part of all distributions of LaTeX
% version 2003/12/01 or later.
%
% This work has the LPPL maintenance status "unmaintained".
%
% This work consists of the files ucthesis.cls, uct10.clo, uct11.clo,
% uct12.clo, uctest.bib, and uctest.tex.

%%% ====================================================================
%%%  @LaTeX-class-file{
%%%     filename        = "ucthesis.cls",
%%%     version         = "3.2-ucsc-2",
%%%     date            = "04 May 2006",
%%%     license         = "LPPL",
%%%     codetable       = "ISO/ASCII",
%%%     keywords        = "LaTeX, ucthesis",
%%%     docstring       = "This file is the main file for the ucthesis
%%%                        class, which is intended to meet the requirements
%%%                        for University of California Ph.D. dissertations.
%%%                        (This version merged from ucscthesis.cls,
%%%                        version="3.0" and ucthesis.cls, version="3.2")
%%%			   It is a direct port to LaTeX2e from UCTHESIS
%%%			   v2.7 by Ethan V. Munson, with no changes other
%%%			   than those for compatibility.  The major modifictions
%%%			   are in the font selection commands in the option
%%%			   files uct1x.clo.
%%%
%%%			   UCTHESIS.STY v2.7 is based on the standard
%%%			   report.sty as modified by Mittelbach and Schopf in
%%%			   Jan 1992.  The primary differences are (1) the use
%%%			   of pseudo-double-spacing, except in certain special
%%%                        environments; and (2) the use of a 6 inch line
%%%                        with 4em paragraph indentation.  It is only
%%%			   intended for single-sided printing.  Double-sided
%%%			   printing may be possible, but you're on
%%%			   your own.
%%%
%%%                        I know of no bugs in this implementation,
%%%                        but would be happy to hear of any problems
%%%                        that arise with it.
%%%
%%%			   Version 2.x fixes a bug in the previous
%%%			   version of 20 Jun 1988.  The bug was that
%%%			   "draft" optional mode didn't work because of
%%%			   problems in handling optional arguments.
%%%                        This file does not seem to work with earlier
%%%                        versions of LaTeX (pre-Jan 1992).
%%%
%%%			   Version 2.3 includes a single-spaced
%%%			   tabular* environment.
%%%
%%%			   Version 2.4 sets \evensidemargin correctly
%%%			   for two-sided style.  It also adds new
%%%			   environments (\smalltabular and
%%%			   \scriptsizetabular) which produce tables
%%%			   with smaller fonts.  The obvious methods
%%%			   of producing small-font tables don't work
%%%			   in ucthesis style.
%%%
%%%			   Version 2.5 adds support for the \maketitle
%%%			   macro.
%%%
%%%			   Version 2.6 adds support for complete and
%%%			   correct front matter.  Some dead code was
%%%			   removed, too.
%%%
%%%                        Version 2.7 adds front matter support for
%%%                        thesis committees of more than 3 people
%%%                        and for a labeled signature line on the
%%%                        abstract page.
%%%
%%%			   Version 3.0 is a direct port of version 2.7
%%%			   to LaTeX2e.  The major revisions in ucthesis.cls
%%%			   are converting option processing to LaTeX2e
%%%			   conventions.  The uct1x files have been revised
%%%			   to use the new font selection commands.
%%%
%%%			   Version 3.1 makes the following changes:
%%%				``U of C at CAMPUS'' is now ``U of C, CAMPUS''
%%%				new degreesemester variable
%%%				roman numeral frontmatter begins with page i,
%%%					not iii
%%%				``acknowledgments'' not ``acknowledgements''
%%%
%%%			   Version 3.2 explicitly states the license as LPPL.
%%%
%%%			   Some users have had problems with the
%%%			   margins ending up too small on one side.
%%%			   This appears to be a DVI-to-PostScript
%%%			   driver or printer-adjustment problem.
%%%			   If you have such trouble, make small adjustments
%%%			   to the \textwidth and \oddsidemargin
%%%			   settings in your document preamble.
%%%
%%%			   Another problem some people have had is
%%%			   that you can't use \pagestyle{headings}
%%%			   and \markboth if you use \part.  The solution
%%%			   is to get the headerfooter style, which is
%%%			   nice and simple to use."
%%%  }
%%% ====================================================================

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{ucthesis}[2010/11/28 v4.0-ucsc University of California Thesis Package]


% Only works with the memoir class!!!!!!!!!!!!!!!
\@ifclassloaded{memoir}{\let\endpwasu\relax}{\let\endpwasu\endinput
  \PackageError{ucthesis}{The ucthesis package only works with the memoir class}%
               {\@ehd}}
\endpwasu


% left, right margins and textwidth
\setlrmarginsandblock{1.5in}{1.25in}{*}


%% for main body, bottom of text at 1.25in, footer below
%% top of header at 1in, first text line double spaced
%% below base of header
\newlength{\linespace}
\setlength{\linespace}{\baselineskip} % current equivalent of \onelineskip

\setlength{\headheight}{\onelineskip}
\setlength{\headsep}{\linespace}
\addtolength{\headsep}{-\topskip}

%% The upper margin should be 1.25, but we actually have no running
%% headers, so we can subtract that amount.
\setlength{\uppermargin}{1.25in}
\addtolength{\uppermargin}{-\headsep}
%% and for the bottom
\setlength{\lowermargin}{1.25in}
\addtolength{\lowermargin}{\headheight}
\setlength{\textheight}{\paperheight}
\addtolength{\textheight}{-\uppermargin}
\addtolength{\textheight}{-\lowermargin}
%% footnote settings
\setlength{\footskip}{2\onelineskip}
\setlength{\footnotesep}{\onelineskip}


%% the fiddle lengths (..ta.. for title/approval page, others for prelims)
\newlength{\toptafiddle} \setlength{\toptafiddle}{2\linespace}
\newlength{\bottafiddle} \setlength{\bottafiddle}{0pt}
\newlength{\topfiddle}   \setlength{\topfiddle}{\toptafiddle}
\newlength{\botfiddle}   \setlength{\botfiddle}{\onelineskip}


\setlength{\parindent}{2em}

\checkandfixthelayout

%% chapter style
\makechapterstyle{ucfront}{%
  \setlength{\beforechapskip}{-\topfiddle}
  \setlength{\midchapskip}{1.0\onelineskip}
  \setlength{\afterchapskip}{1.0\onelineskip}
  \renewcommand*{\chaptitlefont}{\normalfont\bfseries\Large}
  \renewcommand*\printchaptertitle[1]{\chaptitlefont\centering ##1\par}}




%    ****************************************
%    *             FRONT MATTER             *
%    ****************************************
%

% DECLARATIONS
%
% These macros are used to declare arguments needed for the
% construction of the front matter.

% The year the degree will be officially conferred
\def\degreeyear#1{\gdef\@degreeyear{#1}}

% The month (March, June, September, December) the degree will be officially conferred
\def\degreemonth#1{\gdef\@degreemonth{#1}}

% The full (unabbreviated) name of the degree
\def\degree#1{\gdef\@degree{#1}}

% All previous degrees: one per line in chronological order
\def\prevdegrees#1{\gdef\@prevdegrees{#1}}

% The name of your committee's chair
\def\chair#1{\gdef\@chair{#1}}

% The names of your other committe members, one per line
\def\committeememberone#1{\gdef\@committeememberone{#1}}
\def\committeemembertwo#1{\gdef\@committeemembertwo{#1}}
\def\committeememberthree#1{\gdef\@committeememberthree{#1}}
\def\committeememberfour#1{\gdef\@committeememberfour{#1}}
\def\committeememberfive#1{\gdef\@committeememberfive{#1}}

% The name of the dean and dean's title(s)
\def\deanlineone#1{\gdef\@deanlineone{#1}}
\def\deanlinetwo#1{\gdef\@deanlinetwo{#1}}
\def\deanlinethree#1{\gdef\@deanlinethree{#1}}


% The number of committee members, which affects both the
% number of lines and the amount of space between lines
% on the approval page.
\def\@numberofmembers{5}
\def\@approvalspace{.75in}
\def\numberofmembers#1{\gdef\@numberofmembers{#1}
\ifnum \@numberofmembers > 3
\gdef\@approvalspace{.5in}
\fi}

% The name of your degree's field (e.g. Psychology, Computer Science)
\def\field#1{\gdef\@field{#1}}

% You have to define the campus name twice because I can't figure out
% how to get the TeX \uppercase macro to work for me (EVM, 9/21/94)

% The name of your UC Campus CAPITALIZED (e.g. Berkeley, Los Angeles)
\def\campus#1{\gdef\@campus{#1}}

% \alwayssingle and \endalwayssingle
%
% These macros define an environment for front matter that is always
% single column even in a double-column document.

\def\alwayssingle{\@restonecolfalse\if@twocolumn\@restonecoltrue\onecolumn
     \else \newpage \fi}

\def\endalwayssingle{\if@restonecol\twocolumn \else \newpage \fi}

% \maketitle outputs the complete titlepage.  It requires all the
% above macros except \campuscap.  It is probably not correct for
% joint (e.g. UCSD/SDSU) degrees.

% Set the font that will be used in the front matter headings
\def\fmfont{\fontsize\@xiipt{14.5}\selectfont}
\def\fmsmallfont{\fontsize\@xiipt{14pt}\selectfont}

\def\maketitle{
{
\begin{alwayssingle}
    \let\footnotesize\small
    \let\footnoterule\relax
    {\setcounter{page}{1}\renewcommand{\thepage}{\roman{page}}}
    \thispagestyle{empty}

	% extend down to the page number area (UCSC), which is 1.25in
	% from the bottom
	\enlargethispage{\footskip}

%    \null\vfil
  \begin{center}
    \fmfont
    UNIVERSITY OF CALIFORNIA \par
    \bigskip
    {\expandafter\uppercase\expandafter{\@campus}} \par
    \bigskip
    {\bfseries {\expandafter\uppercase\expandafter{\@title}} \par}
    \bigskip
    A dissertation submitted in partial satisfaction \par
    of the requirements for the degree of \par
    \bigskip
    {\expandafter\expandafter{\@degree}} \par
    \bigskip
    in \par
    \bigskip
    {\expandafter\uppercase\expandafter{\@field}} \par
    \bigskip
    by \par
    \bigskip
    {\bfseries \@author} \par
    \bigskip
    {\@degreemonth} {\@degreeyear} \par
  \end{center}
\setcounter{footnote}{0}

\vfill
\begin{center}
\fmfont
\hfill\parbox{3in}{The Dissertation of {\@author}\\ is approved:} \\
\bigskip \bigskip
\hfill\rule{2.6in}{0.5pt}\\
\hfill\makebox[2.6in][l]{\@chair, Chair }\\
\bigskip \medskip
\hfill\rule{2.6in}{0.5pt}\\
\hfill\makebox[2.6in][l]{\@committeememberone}\\
\bigskip \smallskip
\hfill\rule{2.6in}{0.5pt}\\
\hfill\makebox[2.6in][l]{\@committeemembertwo}\\
\bigskip \smallskip
\ifnum \@numberofmembers > 3
\hfill\rule{2.6in}{0.5pt}\\
\hfill\makebox[2.6in][l]{\@committeememberthree}\\
\bigskip \smallskip
\fi
\ifnum \@numberofmembers > 4
\hfill\rule{2.6in}{0.5pt}\\
\hfill\makebox[2.6in][l]{\@committeememberfour}\\
\bigskip \smallskip
\fi
\ifnum \@numberofmembers > 5
\hfill\rule{2.6in}{0.5pt}\\
\hfill\makebox[2.6in][l]{\@committeememberfive}\\
\bigskip \smallskip
\fi
\end{center}
\noindent\noindent
\rule{2.85in}{0.5pt}\\
\fmfont
\makebox[3in][l]{\@deanlineone}\\
\makebox[3in][l]{\@deanlinetwo}\\
\makebox[3in][l]{\@deanlinethree}\\
\end{alwayssingle}
}}

\def\copyrightpage{
\begin{alwayssingle}
\thispagestyle{empty}
\begin{center}
{\fmfont
\ \ \ \
\vfill
Copyright \copyright\ by\par
\@author \par
\@degreeyear \par}
\vfill
\ \ \ \ \
\end{center}
\end{alwayssingle}}


\endinput
